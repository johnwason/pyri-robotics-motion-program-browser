<div>
<h2>Motion Program Generation</h2>
<h3>Input Data</h3>
<pyri-motion-program-opt-input-data ref="motion_program_update_curve_base_file"
    name="motion_program_update_curve_base_file" 
    title="Curve Base File" subtitle="Curve data table generated from redundancy resolution result"/>


<h3>Input Parameters</h3>
<b-card title="Input Parameters" sub-title="Motion program update algorithm program generation input parameters" 
border-variant="dark" style="padding: 0.25rem;" class="mt-2">
<b-form-group label="Robot Local Device Name" label-cols-md="3">
    <b-form-input v-model="robot_local_device_name" id ="mp_opt_motion_program_update_robot"></b-form-input>
</b-form-group>
<pyri-motion-program-opt-acc-data-input label="Robot Acceleration Data File" 
    ref="motion_program_update_acc_data" name="motion_program_update_robot_acc_data"/>
<b-form-group label="Tool Local Device Name" label-cols-md="3">
    <b-form-input v-model="tool_local_device_name" id ="mp_opt_motion_program_update_tool"></b-form-input>
</b-form-group>
<b-form-group label="Tool Surface Offset (m)" label-cols-md="3">
    <b-form-input v-model="tool_surface_offset" id ="mp_opt_motion_program_update_tool_offset"></b-form-input>
</b-form-group>
<b-form-group label="Motion Program Generation Input Parameters" label-cols-md="3">
    <b-form-input v-model="mp_gen_params" id ="mp_opt_motion_program_update_mp_gen_params"></b-form-input>
</b-form-group>
<b-form-group label="Path Velocity (m/s)" label-cols-md="3">
    <b-form-input v-model="velocity" id ="mp_opt_motion_program_update_velocity"></b-form-input>
</b-form-group>
<b-form-group label="Blend Radius (m)" label-cols-md="3">
    <b-form-input v-model="blend_radius" id ="mp_opt_motion_program_update_blend_radius"></b-form-input>
</b-form-group>
<b-form-group label="Error (mm)" label-cols-md="3">
    <b-form-input v-model="error_tol" id ="mp_opt_motion_program_update_error_tol"></b-form-input>
</b-form-group>
<b-form-group label="Angular Error (deg)" label-cols-md="3">
    <b-form-input v-model="angerr_tol" id ="mp_opt_motion_program_update_error_tol"></b-form-input>
</b-form-group>
<b-form-group label="Velocity Std (%)" label-cols-md="3">
    <b-form-input v-model="velstd_tol" id ="mp_opt_motion_program_update_velstd_tol"></b-form-input>
</b-form-group>
<b-form-group label="Iteration Max" label-cols-md="3">
    <b-form-input v-model="iter_max" id ="mp_opt_motion_program_update_iter_max"></b-form-input>
</b-form-group>
<b-form-group label="Ext Start" label-cols-md="3">
    <b-form-input v-model="ext_start" id ="mp_opt_motion_program_update_ext_start"></b-form-input>
</b-form-group>
<b-form-group label="Ext End" label-cols-md="3">
    <b-form-input v-model="ext_end" id ="mp_opt_motion_program_update_ext_end"></b-form-input>
</b-form-group>
<b-form-group label="Real Robot" label-cols-md="3">
    <b-form-checkbox v-model="real_robot" id ="mp_opt_motion_program_update_real_robot"></b-form-input>
</b-form-group>
</b-card>
<b-card title="Output Variables" sub-title="Output global variable names to store results" border-variant="dark" 
style="padding: 0.25rem;"
class="mt-2">
<b-form-group label="Motion Program Save" label-cols-md="3">
    <b-form-input v-model="motion_program_global_name" id ="mp_opt_motion_program_update_motion_program_global_name"></b-form-input>
</b-form-group>
<b-form-group label="Motion Program Parameters Save" label-cols-md="3">
    <b-form-input v-model="motion_program_parameters_global_name" id ="mp_opt_motion_program_update_motion_program_parameters_global_name"></b-form-input>
</b-form-group>
</b-card>
<h3>Execution</h3>
<pyri-motion-program-opt-execution id="mp_opt_motion_program_update_execution"
@run="run()" @abort="abort()" @reset="reset()" :state="execution_state"/>

<h3>Log</h3>
<div style="height:400px">
<pyri-terminal-output ref="redundancy_resolution_log"/>
</div>
 
<div v-if="plots.length">
<h3>Results Plots</h3>
<div v-for="plot in plots" v-bind:key="plot.plot_name">
    <h4 class="text-center">{{ plot.plot_name }}</h4>
    <img :src="plot.plot_data_url"/>
</div>
</div>

</div>